<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="Midway RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="Midway Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Midway" href="/en/opensearch.xml">
<link rel="stylesheet" href="//at.alicdn.com/t/font_2797741_dnh1sm1jan.css"><title data-react-helmet="true">Swagger ç»„ä»¶ | Midway</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://midwayjs.org/en/docs/next/extensions/swagger"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="referrer" content="no-referrer"><meta data-react-helmet="true" property="og:title" content="Swagger ç»„ä»¶ | Midway"><meta data-react-helmet="true" name="description" content="åŸºäºæœ€æ–°çš„ OpenAPI 3.0.3 å®ç°äº†æ–°ç‰ˆçš„ Swagger ç»„ä»¶ã€‚"><meta data-react-helmet="true" property="og:description" content="åŸºäºæœ€æ–°çš„ OpenAPI 3.0.3 å®ç°äº†æ–°ç‰ˆçš„ Swagger ç»„ä»¶ã€‚"><link data-react-helmet="true" rel="icon" href="/en/img/logo.svg"><link data-react-helmet="true" rel="canonical" href="https://midwayjs.org/en/docs/next/extensions/swagger"><link data-react-helmet="true" rel="alternate" href="https://midwayjs.org/docs/next/extensions/swagger" hreflang="zh-cn"><link data-react-helmet="true" rel="alternate" href="https://midwayjs.org/en/docs/next/extensions/swagger" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://midwayjs.org/docs/next/extensions/swagger" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/en/assets/css/styles.d9b59b51.css">
<link rel="preload" href="/en/assets/js/runtime~main.a8a0a695.js" as="script">
<link rel="preload" href="/en/assets/js/main.849e17a2.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.svg" alt="midway logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/en/img/logo.svg" alt="midway logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Midway</b></a><a class="navbar__item navbar__link" href="/en/docs/next/intro">æ ‡å‡†é¡¹ç›®</a><a class="navbar__item navbar__link" href="/en/docs/next/serverless/serverless_intro">Serverless</a><a class="navbar__item navbar__link" href="/en/docs/next/hooks/hooks_intro">å‡½æ•°å¼ &amp; ä¸€ä½“åŒ–</a><a class="navbar__item navbar__link navbar__link--active" href="/en/docs/next/extensions/axios">æ‰©å±•åŠŸèƒ½</a><a class="navbar__item navbar__link" href="/en/docs/next/tool/cli">å…¶ä»–</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" href="/en/docs/next/intro">3.0.0 ğŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/en/docs/next/extensions/swagger">3.0.0 ğŸš§</a></li><li><a class="dropdown__link" href="/en/docs/extensions/swagger">2.0.0</a></li><li><a class="dropdown__link" href="/en/docs/1.0.0/intro">1.0.0</a></li></ul></div><a href="https://subway.midwayjs.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Node åœ°ä¸‹é“<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ğŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ğŸŒ</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="searchBox_Utm0"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/en/docs/next/extensions/axios">é€šç”¨</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/axios">HTTP è¯·æ±‚ï¼ˆAxiosï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/cache">ç¼“å­˜ï¼ˆCacheï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/i18n">å¤šè¯­è¨€ï¼ˆi18nï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/info">Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/validate">å‚æ•°æ ¡éªŒ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/docs/next/extensions/swagger">Swagger ç»„ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/process_agent">è¿›ç¨‹ Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/task">ä»»åŠ¡è°ƒåº¦ï¼ˆTaskï¼‰</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/en/docs/next/extensions/koa">http</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/koa">Koa</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/egg">EggJS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/express">Express</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/render">æ¨¡æ¿æ¸²æŸ“</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/upload">æ–‡ä»¶ä¸Šä¼ ï¼ˆUploadï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/passport">èº«ä»½éªŒè¯ï¼ˆpassportï¼‰</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/en/docs/next/extensions/grpc">å¾®æœåŠ¡</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/grpc">gRPC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/consul">Consul</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/en/docs/next/extensions/socketio">Socket</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/socketio">SocketIO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/ws">WebSocket</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/en/docs/next/extensions/rabbitmq">æ¶ˆæ¯è®¢é˜…</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/rabbitmq">RabbitMQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/en/docs/next/extensions/orm">æ•°æ®æœåŠ¡</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/orm">Databaseï¼ˆTypeORM)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/sequelize">Sequelize</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/redis">Redis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/mongodb">MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/oss">å¯¹è±¡å­˜å‚¨ï¼ˆOSSï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/cos">å¯¹è±¡å­˜å‚¨ï¼ˆCOSï¼‰</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/tablestore">TableStore</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/en/docs/next/extensions/pm2">è¿ç»´</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/pm2">pm2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/cfork">cfork</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/alinode">Alinode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/docs/next/extensions/prometheus">Prometheus</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Midway<!-- --> <b>3.0.0 ğŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/en/docs/extensions/swagger">latest version</a></b> (<!-- -->2.0.0<!-- -->).</div></div><div class="docItemContainer_oiyr"><article><span class="theme-doc-version-badge badge badge--secondary">Version: <!-- -->3.0.0 ğŸš§</span><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Swagger ç»„ä»¶</h1></header><p>åŸºäºæœ€æ–°çš„ <a href="https://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenAPI 3.0.3</a> å®ç°äº†æ–°ç‰ˆçš„ Swagger ç»„ä»¶ã€‚</p><p>ç›¸å…³ä¿¡æ¯ï¼š</p><table><thead><tr><th>æè¿°</th><th></th></tr></thead><tbody><tr><td>å¯ä½œä¸ºä¸»æ¡†æ¶ç‹¬ç«‹ä½¿ç”¨</td><td>âŒ</td></tr><tr><td>åŒ…å«è‡ªå®šä¹‰æ—¥å¿—</td><td>âŒ</td></tr><tr><td>å¯ç‹¬ç«‹æ·»åŠ ä¸­é—´ä»¶</td><td>âŒ</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_y2LR" id="ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•<a class="hash-link" href="#ä½¿ç”¨æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å®‰è£…">å®‰è£…<a class="hash-link" href="#å®‰è£…" title="Direct link to heading">â€‹</a></h3><h4 class="anchor anchorWithStickyNavbar_y2LR" id="1-å®‰è£…ä¾èµ–">1. å®‰è£…ä¾èµ–<a class="hash-link" href="#1-å®‰è£…ä¾èµ–" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @midwayjs/swagger@beta --save</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> swagger-ui-dist --save-dev</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœæƒ³è¦åœ¨æœåŠ¡å™¨ä¸Šè¾“å‡º Swagger API é¡µé¢ï¼Œåˆ™éœ€è¦å°† swagger-ui-dist å®‰è£…åˆ°ä¾èµ–ä¸­ã€‚</p><div class="codeBlockContainer_J+bg language-bash theme-code-block"><div class="codeBlockContent_csEI bash"><pre tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> swagger-ui-dist --save</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="2-ä»£ç é…ç½®">2. ä»£ç é…ç½®<a class="hash-link" href="#2-ä»£ç é…ç½®" title="Direct link to heading">â€‹</a></h4><p>åœ¨ <code>configuration.ts</code> ä¸­å¢åŠ ç»„ä»¶ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import { Configuration } from &#x27;@midwayjs/decorator&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import * as swagger from &#x27;@midwayjs/swagger&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imports: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    swagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class ContainerConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¯ä»¥é…ç½®å¯ç”¨çš„ç¯å¢ƒï¼Œæ¯”å¦‚ä¸‹é¢çš„ä»£ç æŒ‡çš„æ˜¯â€œåªåœ¨ local ç¯å¢ƒä¸‹å¯ç”¨â€ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import { Configuration } from &#x27;@midwayjs/decorator&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import * as swagger from &#x27;@midwayjs/swagger&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Configuration({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imports: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      component: swagger,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      enabledEnvironment: [&#x27;local&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class ContainerConfiguration {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="å‚æ•°é…ç½®">å‚æ•°é…ç½®<a class="hash-link" href="#å‚æ•°é…ç½®" title="Direct link to heading">â€‹</a></h3><p>Swagger ç»„ä»¶æä¾›äº†å’Œ <a href="https://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenAPI</a> ä¸€è‡´çš„å‚æ•°é…ç½®èƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡è‡ªå®šä¹‰é…ç½®æ¥å®ç°ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="é…ç½®é¡¹">é…ç½®é¡¹<a class="hash-link" href="#é…ç½®é¡¹" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * see https://swagger.io/specification/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export interface SwaggerOptions {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * é»˜è®¤å€¼: My Project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#info-object title å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * é»˜è®¤å€¼: This is a swagger-ui for midwayjs project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#info-object description å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * é»˜è®¤å€¼: 1.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#info-object version å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  version?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#info-object contact å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  contact?: ContactObject;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#info-object license å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  license?: LicenseObject;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#info-object termsOfService å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  termsOfService?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#openapi-object externalDocs å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  externalDocs?: ExternalDocumentationObject;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#openapi-object servers å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  servers?: Array&lt;ServerObject&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#openapi-object tags å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tags?: Array&lt;TagObject&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * å¯ä»¥å‚è€ƒ https://swagger.io/specification/#security-scheme-object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth?: AuthOptions | AuthOptions[];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * api çš„ æ ¹è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  basePath?: string | string[];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * é»˜è®¤å€¼: /swagger-ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * è®¿é—® swagger ui çš„è·¯å¾„</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  swaggerPath?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * ç»§æ‰¿è‡ª https://swagger.io/specification/#security-scheme-object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export interface AuthOptions extends Omit&lt;SecuritySchemeObject, &#x27;type&#x27;&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * éªŒæƒç±»å‹</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * basic  =&gt; http basic éªŒè¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * bearer =&gt; http jwt éªŒè¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * cookie =&gt; cookie æ–¹å¼éªŒè¯</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * oauth2 =&gt; ä½¿ç”¨ oauth2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * apikey =&gt; apiKey</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * custom =&gt; è‡ªå®šä¹‰æ–¹å¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  authType: AuthType;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * https://swagger.io/specification/#security-scheme-object type å­—æ®µ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type?: SecuritySchemeType;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * authType = cookie æ—¶å¯ä»¥ä¿®æ”¹ï¼Œé€šè¿‡ ApiCookie è£…é¥°å™¨å…³è”çš„åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  securityName?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   * authType = cookie æ—¶å¯ä»¥ä¿®æ”¹ï¼Œcookie çš„åç§°</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  cookieName?: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="ç±»å‹å’Œå‚æ•°æå–">ç±»å‹å’Œå‚æ•°æå–<a class="hash-link" href="#ç±»å‹å’Œå‚æ•°æå–" title="Direct link to heading">â€‹</a></h3><p>Swagger ç»„ä»¶ä¼šè¯†åˆ«å„ä¸ª <code>@Controller</code> ä¸­æ¯ä¸ªè·¯ç”±æ–¹æ³•çš„ <code>@Body()</code>ã€<code>@Query()</code>ã€<code>@Param()</code> è£…é¥°å™¨ï¼Œæå–è·¯ç”±æ–¹æ³•å‚æ•°å’Œç±»å‹ã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ªæ–¹æ³•ï¼š</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Post(&#x27;/:id&#x27;, { summary: &#x27;test&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">async create(@Body() createCatDto: CreateCatDto, @Param(&#x27;id&#x27;) id: number): Promise&lt;Cat&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return this.catsService.create(createCatDto);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ç»„ä»¶å¯åŠ¨æ—¶ä¼šæå–å…¶ä¸­çš„ä¸¤ä¸ªå‚æ•°ï¼š</p><p><img src="https://img.alicdn.com/imgextra/i1/O1CN012WJPrd22H6QQZuXqJ_!!6000000007094-0-tps-1672-796.jpg" alt="swagger1"></p><p>å›¾ä¸­å¯ä»¥çœ‹åˆ° idï¼Œä»¥åŠ request body å‚æ•° Schema ä¸º CreateCatDtoã€‚å…¶ä¸­ CreateCatDto å­—æ®µéƒ½æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬æä¾›äº† <code>@ApiProperty(...)</code> è£…é¥°å™¨å¯ä»¥ç”¨æ¥å£°æ˜æ¨¡å‹å®šä¹‰ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import { ApiProperty } from &quot;@midwayjs/swagger&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class CreateCatDto {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiProperty({ example: &#x27;Kitty&#x27;, description: &#x27;The name of the Catname&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiProperty({ example: &#x27;1&#x27;, description: &#x27;The name of the Catage&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: number;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiProperty({ example: &#x27;bbbb&#x27;, description: &#x27;The name of the Catbreed&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  breed: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Swagger UI ä¸­å±•ç¤ºï¼š
<img src="https://img.alicdn.com/imgextra/i3/O1CN013UI5Ha1JSrt84NApB_!!6000000001028-0-tps-1672-486.jpg" alt="swagger2"></p><p>ä»ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯¹æ¯ä¸ªå­—æ®µæ·»åŠ äº† exampleã€descriptionï¼Œè‡³äºå­—æ®µç±»å‹å¯ä»¥é€šè¿‡ <code>design:type</code> æ¥æå–ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒ <code>@ApiProperty(...)</code> ä¸­é€šè¿‡ type å’Œ format æ¥å®šä¹‰ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiProperty({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type: &#x27;integer&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  format: &#x27;int32&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  example: &#x27;1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;The name of the Catage&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age: number;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœæ˜¯æ•°ç»„ç±»å‹ï¼Œç”±äº <code>design:type</code> ä¸æ”¯æŒèŒƒå‹ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½® type å­—æ®µæ¥å®šä¹‰ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiProperty({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type: [String],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  example: [&#x27;1&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;The name of the Catage&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">breeds: string[];</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>å¦‚æœæ˜¯æšä¸¾ç±»å‹ï¼Œå¯ä»¥é€šè¿‡é…ç½® enmu å­—æ®µæ¥å®šä¹‰ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">enum HelloWorld {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  One = &#x27;One&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Two = &#x27;Two&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Three = &#x27;Three&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiProperty({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  enum: [&#x27;One&#x27;, &#x27;Two&#x27;, &#x27;Three&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;The name of the Catage&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hello: HelloWorld;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Swagger UI ä¸­å±•ç¤ºï¼š
<img src="https://img.alicdn.com/imgextra/i1/O1CN015M37MU1KgtdNfqsgp_!!6000000001194-0-tps-1406-426.jpg" alt="swagger3"></p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="æ–‡ä»¶ä¸Šä¼ å®šä¹‰">æ–‡ä»¶ä¸Šä¼ å®šä¹‰<a class="hash-link" href="#æ–‡ä»¶ä¸Šä¼ å®šä¹‰" title="Direct link to heading">â€‹</a></h4><p>ä½¿ç”¨ <code>@ApiBody</code> è®¾ç½® <code>contentType</code></p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Post(&#x27;/:id&#x27;, { summary: &#x27;test&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiBody({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;this is body&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  contentType: BotyContentType.Multipart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiParam({ description: &#x27;this is id&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">async create(@Body() createCatDto: CreateCatDto, @Param(&#x27;id&#x27;) id: number): Promise&lt;Cat&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return this.catsService.create(createCatDto);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>åœ¨ <code>CreateCatDto</code> ä¸­ä½¿ç”¨ <code>@ApiProperty</code> æ·»åŠ  <code>format</code></p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiProperty({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type: &#x27;string&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  format: &#x27;binary&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;this is file test&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">file: any;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Swagger UI ä¸­å±•ç¤ºï¼š
<img src="https://img.alicdn.com/imgextra/i3/O1CN01KlDHNt24mMglN1fyH_!!6000000007433-0-tps-1598-434.jpg" alt="swagger4"></p><ul><li><p>å…¼å®¹ Upload ç»„ä»¶</p><ul><li>æ·»åŠ  <code>@ApiBody()</code> è£…é¥°å™¨æè¿°</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Post(&#x27;/test&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiBody({ description: &#x27;hello file&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiBody({ description: &#x27;hello fields&#x27;, type: Cat })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">async upload(@File() f: any, @Fields() data: Cat) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Swagger UI ä¸­å±•ç¤ºï¼š
<img src="https://img.alicdn.com/imgextra/i2/O1CN01icnwZE24OY5vdkkKx_!!6000000007381-0-tps-1272-1026.jpg" alt="swagger5"></p><ul><li>ä¸æ·»åŠ  <code>@ApiBody()</code> è£…é¥°å™¨æè¿°</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Post(&#x27;/test1&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">async upload1(@Files() f: any[], @Fields() data: Cat) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Swagger UI ä¸­å±•ç¤ºï¼š
<img src="https://img.alicdn.com/imgextra/i3/O1CN01w9dZxe1YQJv3uOycZ_!!6000000003053-0-tps-1524-1118.jpg" alt="swagger6"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_y2LR" id="è·¯ç”±å®šä¹‰">è·¯ç”±å®šä¹‰<a class="hash-link" href="#è·¯ç”±å®šä¹‰" title="Direct link to heading">â€‹</a></h3><p><a href="https://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenAPI</a> å®šä¹‰çš„ paths å°±æ˜¯å„ä¸ªè·¯ç”±è·¯å¾„ï¼Œä¸”æ¯ä¸ªè·¯ç”±è·¯å¾„éƒ½æœ‰ HTTP æ–¹æ³•çš„å®šä¹‰ï¼Œæ¯”å¦‚ GETã€POSTã€DELETEã€PUT ç­‰ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="è·¯ç”±æ ‡ç­¾">è·¯ç”±æ ‡ç­¾<a class="hash-link" href="#è·¯ç”±æ ‡ç­¾" title="Direct link to heading">â€‹</a></h4><p>Swagger ä¼šå¯¹ paths åˆ†æ ‡ç­¾ï¼Œå¦‚æœ Controller æœªå®šä¹‰ä»»ä½•æ ‡ç­¾ï¼Œåˆ™ä¼šé»˜è®¤å½’ç»„åˆ° default ä¸‹ã€‚å¯ä»¥é€šè¿‡ <code>@ApiTags([...])</code> æ¥è‡ªå®šä¹‰ Controller æ ‡ç­¾ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiTags([&#x27;hello&#x27;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="è¯·æ±‚-header">è¯·æ±‚ Header<a class="hash-link" href="#è¯·æ±‚-header" title="Direct link to heading">â€‹</a></h4><p>é€šè¿‡ <code>@ApiHeader({...})</code> è£…é¥°å™¨æ¥å®šä¹‰ Header å‚æ•°ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiHeader({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: &#x27;x-test-one&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;this is test one&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiTags([&#x27;hello&#x27;])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="è¯·æ±‚-response">è¯·æ±‚ Response<a class="hash-link" href="#è¯·æ±‚-response" title="Direct link to heading">â€‹</a></h4><p>å¯ä»¥ä½¿ç”¨ <code>@ApiResponse({...})</code> æ¥è‡ªå®šä¹‰è¯·æ±‚ Responseã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@Get(&#x27;/:id&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ApiResponse({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  status: 200,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &#x27;The found record&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  type: Cat,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">findOne(@Param(&#x27;id&#x27;) id: string, @Query(&#x27;test&#x27;) test: any): Cat {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return this.catsService.findOne(+id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>è¿˜æä¾›äº†å…¶ä»–ä¸éœ€è¦è®¾ç½® status çš„è£…é¥°å™¨ï¼š</p><ul><li><code>@ApiOkResponse()</code></li><li><code>@ApiCreatedResponse()</code></li><li><code>@ApiAcceptedResponse()</code></li><li><code>@ApiNoContentResponse()</code></li><li><code>@ApiMovedPermanentlyResponse()</code></li><li><code>@ApiBadRequestResponse()</code></li><li><code>@ApiUnauthorizedResponse()</code></li><li><code>@ApiNotFoundResponse()</code></li><li><code>@ApiForbiddenResponse()</code></li><li><code>@ApiMethodNotAllowedResponse()</code></li><li><code>@ApiNotAcceptableResponse()</code></li><li><code>@ApiRequestTimeoutResponse()</code></li><li><code>@ApiConflictResponse()</code></li><li><code>@ApiTooManyRequestsResponse()</code></li><li><code>@ApiGoneResponse()</code></li><li><code>@ApiPayloadTooLargeResponse()</code></li><li><code>@ApiUnsupportedMediaTypeResponse()</code></li><li><code>@ApiUnprocessableEntityResponse()</code></li><li><code>@ApiInternalServerErrorResponse()</code></li><li><code>@ApiNotImplementedResponse()</code></li><li><code>@ApiBadGatewayResponse()</code></li><li><code>@ApiServiceUnavailableResponse()</code></li><li><code>@ApiGatewayTimeoutResponse()</code></li><li><code>@ApiDefaultResponse()</code></li></ul><p>HTTP è¯·æ±‚è¿”å›çš„æ•°æ®æ¨¡å‹å®šä¹‰ä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®š typeï¼Œå½“ç„¶è¿™ä¸ªæ•°æ®æ¨¡å‹éœ€è¦é€šè¿‡è£…é¥°å™¨ <code>@ApiProperty</code> æ¥æè¿°å„ä¸ªå­—æ®µã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import { ApiProperty } from &#x27;@midwayjs/swagger&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class Cat {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiProperty({ example: &#x27;Kitty&#x27;, description: &#x27;The name of the Cat&#x27;})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiProperty({ example: 1, description: &#x27;The age of the Cat&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  age: number;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @ApiProperty({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    example: &#x27;Maine Coon&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &#x27;The breed of the Cat&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  breed: string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Swagger è¿˜æ”¯æŒå¸¦å‰ç¼€ <code>x-</code> çš„æ‰©å±•å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨ <code>@ApiExtension(x-..., {...})</code> è£…é¥°å™¨ã€‚</p><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiExtension(&#x27;x-hello&#x27;, { hello: &#x27;world&#x27; })</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="æˆæƒéªŒè¯">æˆæƒéªŒè¯<a class="hash-link" href="#æˆæƒéªŒè¯" title="Direct link to heading">â€‹</a></h3><p>ç»„ä»¶å¯ä»¥é€šè¿‡æ·»åŠ æˆæƒéªŒè¯é…ç½®æ¥è®¾ç½®éªŒè¯æ–¹å¼ï¼Œæˆ‘ä»¬æ”¯æŒé…ç½® <code>basic</code>ã€<code>bearer</code>ã€<code>cookie</code>ã€<code>oauth2</code>ã€<code>apikey</code>ã€<code>custom</code>ã€‚</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="basic">basic<a class="hash-link" href="#basic" title="Direct link to heading">â€‹</a></h4><ul><li>å¯ç”¨ basic éªŒè¯</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// config.default.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const swagger = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    authType: &#x27;basic&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å…³è” Controller</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiBasicAuth()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="bearer">bearer<a class="hash-link" href="#bearer" title="Direct link to heading">â€‹</a></h4><ul><li>å¯ç”¨ bearer éªŒè¯ï¼ˆbearerFormat ä¸º JWTï¼‰</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// config.default.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const swagger = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    authType: &#x27;bearer&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å…³è” Controller</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiBearerAuth()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="oauth2">oauth2<a class="hash-link" href="#oauth2" title="Direct link to heading">â€‹</a></h4><ul><li>å¯ç”¨ oauth2 éªŒè¯</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// config.default.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const swagger = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    authType: &#x27;oauth2&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    flows: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      implicit: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        authorizationUrl: &#x27;http://example.org/api/oauth/dialog&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scopes: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &#x27;write:pets&#x27;: &#x27;modify pets in your account&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &#x27;read:pets&#x27;: &#x27;read your pets&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      authorizationCode: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        authorizationUrl: &#x27;https://example.com/api/oauth/dialog&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tokenUrl: &#x27;https://example.com/api/oauth/token&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scopes: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &#x27;write:pets&#x27;: &#x27;modify pets in your account&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &#x27;read:pets&#x27;: &#x27;read your pets&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å…³è” Controller</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiOAuth2()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="cookie">cookie<a class="hash-link" href="#cookie" title="Direct link to heading">â€‹</a></h4><ul><li>å¯ç”¨ cookie éªŒè¯</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// config.default.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const swagger = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    authType: &#x27;cookie&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    securityName: &#x27;testforcookie&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cookieName: &#x27;connect.sid&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å…³è” Controller</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiCookieAuth(&#x27;testforcookie&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="apikey">apikey<a class="hash-link" href="#apikey" title="Direct link to heading">â€‹</a></h4><ul><li>å¯ç”¨ cookie éªŒè¯</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// config.default.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const swagger = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    authType: &#x27;apikey&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &#x27;api_key&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å…³è” Controller</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiSecurity(&#x27;api_key&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_y2LR" id="custom">custom<a class="hash-link" href="#custom" title="Direct link to heading">â€‹</a></h4><ul><li>è‡ªå®šä¹‰éªŒè¯æ–¹å¼ï¼Œéœ€è¦è‡ªå·±è®¾è®¡å‚æ•°é…ç½®</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">// config.default.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export const swagger = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  auth: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    authType: &#x27;custom&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: &#x27;mycustom&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>å…³è” Controller</li></ul><div class="codeBlockContainer_J+bg language-typeScript theme-code-block"><div class="codeBlockContent_csEI typeScript"><pre tabindex="0" class="prism-code language-typeScript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">@ApiSecurity(&#x27;mycustom&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Controller(&#x27;/hello&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class HelloController {}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="è£…é¥°å™¨åˆ—è¡¨">è£…é¥°å™¨åˆ—è¡¨<a class="hash-link" href="#è£…é¥°å™¨åˆ—è¡¨" title="Direct link to heading">â€‹</a></h3><p>ç»„ä»¶æ‰€æœ‰è£…é¥°å™¨å‚è€ƒäº† <a href="https://github.com/nestjs/swagger" target="_blank" rel="noopener noreferrer">@nestjs/swagger</a> çš„è®¾è®¡ï¼Œéƒ½å¸¦ <code>Api</code> å‰ç¼€ã€‚è¿™é‡Œåˆ—å‡ºå…¨éƒ¨è£…é¥°å™¨ï¼š</p><table><thead><tr><th>è£…é¥°å™¨</th><th>æ”¯æŒæ¨¡å¼</th></tr></thead><tbody><tr><td><code>@ApiBody</code></td><td>Method</td></tr><tr><td><code>@ApiExcludeEndpoint</code></td><td>Method</td></tr><tr><td><code>@ApiExcludeController</code></td><td>Controller</td></tr><tr><td><code>@ApiHeader</code></td><td>Controller/Method</td></tr><tr><td><code>@ApiHeaders</code></td><td>Controller/Method</td></tr><tr><td><code>@ApiOperation</code></td><td>Method</td></tr><tr><td><code>@ApiProperty</code></td><td>Model Property</td></tr><tr><td><code>@ApiPropertyOptional</code></td><td>Model Property</td></tr><tr><td><code>@ApiResponseProperty</code></td><td>Model Property</td></tr><tr><td><code>@ApiQuery</code></td><td>Method</td></tr><tr><td><code>@ApiResponse</code></td><td>Method</td></tr><tr><td><code>@ApiTags</code></td><td>Controller/Method</td></tr><tr><td><code>@ApiExtension</code></td><td>Method</td></tr><tr><td><code>@ApiBasicAuth</code></td><td>Controller</td></tr><tr><td><code>@ApiBearerAuth</code></td><td>Controller</td></tr><tr><td><code>@ApiCookieAuth</code></td><td>Controller</td></tr><tr><td><code>@ApiOAuth2</code></td><td>Controller</td></tr><tr><td><code>@ApiSecurity</code></td><td>Controller</td></tr><tr><td><code>@ApiParam</code></td><td>Method</td></tr><tr><td><code>@ApiParam</code></td><td>Method</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/midwayjs/midway/tree/main/site/docs/docs/extensions/swagger.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/en/docs/next/extensions/validate"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">å‚æ•°æ ¡éªŒ</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/en/docs/next/extensions/process_agent"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">è¿›ç¨‹ Agent</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ä½¿ç”¨æ–¹æ³•" class="table-of-contents__link toc-highlight">ä½¿ç”¨æ–¹æ³•</a><ul><li><a href="#å®‰è£…" class="table-of-contents__link toc-highlight">å®‰è£…</a></li><li><a href="#å‚æ•°é…ç½®" class="table-of-contents__link toc-highlight">å‚æ•°é…ç½®</a></li><li><a href="#ç±»å‹å’Œå‚æ•°æå–" class="table-of-contents__link toc-highlight">ç±»å‹å’Œå‚æ•°æå–</a></li><li><a href="#è·¯ç”±å®šä¹‰" class="table-of-contents__link toc-highlight">è·¯ç”±å®šä¹‰</a></li><li><a href="#æˆæƒéªŒè¯" class="table-of-contents__link toc-highlight">æˆæƒéªŒè¯</a></li><li><a href="#è£…é¥°å™¨åˆ—è¡¨" class="table-of-contents__link toc-highlight">è£…é¥°å™¨åˆ—è¡¨</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/en/assets/js/runtime~main.a8a0a695.js"></script>
<script src="/en/assets/js/main.849e17a2.js"></script>
<script>document.write(unescape("%3Cspan style='display: none' id='cnzz_stat_icon_1279723477'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1279723477' type='text/javascript'%3E%3C/script%3E"))</script></body>
</html>