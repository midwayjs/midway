"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4912],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(n),f=o,m=u["".concat(l,".").concat(f)]||u[f]||d[f]||i;return n?r.createElement(m,a(a({ref:t},p),{},{components:n})):r.createElement(m,a({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},5666:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=n(7462),o=(n(7294),n(3905));const i={},a="Common TS questions",s={unversionedId:"faq/ts_problem",id:"faq/ts_problem",title:"Common TS questions",description:"TS has many compilation static checks, such as inconsistent types and undefined objects, which are the best by default. It is hoped that users can reasonably consider coding styles and habits, switch configurations carefully, and enjoy the benefits of TS static checks.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/faq/ts_problem.md",sourceDirName:"faq",slug:"/faq/ts_problem",permalink:"/en/docs/faq/ts_problem",draft:!1,editUrl:"https://github.com/midwayjs/midway/tree/main/site/docs/faq/ts_problem.md",tags:[],version:"current",frontMatter:{},sidebar:"other",previous:{title:"Common npm problems",permalink:"/en/docs/faq/npm_problem"},next:{title:"About Alias Path",permalink:"/en/docs/faq/alias_path"}},l={},c=[{value:"Dependency package definition error",id:"dependency-package-definition-error",level:2},{value:"TS2564 initialization unassigned error",id:"ts2564-initialization-unassigned-error",level:2},{value:"TS6133 Object Declaration Not Used Error",id:"ts6133-object-declaration-not-used-error",level:2},{value:"The typings defined in the tsconfig does not take effect",id:"the-typings-defined-in-the-tsconfig-does-not-take-effect",level:2}],p={toc:c};function d(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"common-ts-questions"},"Common TS questions"),(0,o.kt)("p",null,"TS has many compilation static checks, such as inconsistent types and undefined objects, which are the best by default. It is hoped that users can reasonably consider coding styles and habits, switch configurations carefully, and enjoy the benefits of TS static checks."),(0,o.kt)("h2",{id:"dependency-package-definition-error"},"Dependency package definition error"),(0,o.kt)("p",null,"If the TS version of the dependency package and the project itself are inconsistent, an error will occur at compile time."),(0,o.kt)("p",null,"You can turn off dependency package checking at ",(0,o.kt)("inlineCode",{parentName:"p"},"tsconfig.json"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},'{\n  "compilerOptions ": {\n    "skipLibCheck": true\n  },\n}\n')),(0,o.kt)("h2",{id:"ts2564-initialization-unassigned-error"},"TS2564 initialization unassigned error"),(0,o.kt)("p",null,"The error is as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"error TS2564: Property 'name' has no initializer and is not definitely assigned in the constructor.\n")),(0,o.kt)("p",null,"The reason is that the initialization attribute check of TS is enabled. If there is no initialization assignment, an error will be reported."),(0,o.kt)("p",null,"Treatment method:"),(0,o.kt)("p",null,"The first: remove the check rule of tsconfig.json"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "strictPropertyInitialization": false // or remove\n}\n')),(0,o.kt)("p",null,"The second type: attribute plus exclamation mark"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"export class HomeController {\n  @Inject()\n  userService! : UserService;\n}\n")),(0,o.kt)("h2",{id:"ts6133-object-declaration-not-used-error"},"TS6133 Object Declaration Not Used Error"),(0,o.kt)("p",null,"The error is as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"error TS6133: 'app' is declared but its value is never read.\n")),(0,o.kt)("p",null,"The reason is that the object with TS turned on is not checked. If it is declared but not used, an error will be reported."),(0,o.kt)("p",null,"Treatment method:"),(0,o.kt)("p",null,"The first: remove undefined variables"),(0,o.kt)("p",null,"The second: remove tsconfig.json's inspection rules"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "compilerOptions ": {\n    "noUnusedLocals": false\n  },\n}\n')),(0,o.kt)("h2",{id:"the-typings-defined-in-the-tsconfig-does-not-take-effect"},"The typings defined in the tsconfig does not take effect"),(0,o.kt)("p",null,"In tsconfig.json, if the typeRoots is defined and the include is defined, if the include does not contain the content in the typeRoot, an error will be reported in dev/build."),(0,o.kt)("p",null,"This is a ts/ts-node problem. For issue, see ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/TypeStrong/ts-node/issues/782"},"#782")," and ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/microsoft/TypeScript/issues/22217"},"#22217"),"."),(0,o.kt)("p",null,"For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'"typeRoots ": [\n    "./node_modules/@types ",\n    "./typings"\n  ],\n  "include ": [\n    "src ",\n    "typings"\n  ],\n  "exclude ": [\n    "dist ",\n    "node_modules"\n  ],\n')),(0,o.kt)("p",null,"As mentioned above, if the typings is not written in the include, the definition cannot be found in dev/build and an error will be reported."))}d.isMDXComponent=!0}}]);