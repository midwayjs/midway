"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2710],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>f});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(a),m=r,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||l;return a?n.createElement(f,i(i({ref:t},p),{},{components:a})):n.createElement(f,i({ref:t},p))}));function f(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:r,i[1]=o;for(var c=2;c<l;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},85162:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(67294),r=a(86010);const l={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return n.createElement("div",{role:"tabpanel",className:(0,r.Z)(l.tabItem,i),hidden:a},t)}},65488:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(87462),r=a(67294),l=a(86010),i=a(12466),o=a(70989),s=a(72389);const c={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function p(e){let{className:t,block:a,selectedValue:o,selectValue:s,tabValues:p}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.o5)(),m=e=>{const t=e.currentTarget,a=u.indexOf(t),n=p[a].value;n!==o&&(d(t),s(n))},f=e=>{let t=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const a=u.indexOf(e.currentTarget)+1;t=u[a]??u[0];break}case"ArrowLeft":{const a=u.indexOf(e.currentTarget)-1;t=u[a]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":a},t)},p.map((e=>{let{value:t,label:a,attributes:i}=e;return r.createElement("li",(0,n.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>u.push(e),onKeyDown:f,onClick:m},i,{className:(0,l.Z)("tabs__item",c.tabItem,i?.className,{"tabs__item--active":o===t})}),a??t)})))}function u(e){let{lazy:t,children:a,selectedValue:n}=e;const l=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===n));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))))}function d(e){const t=(0,o.Y)(e);return r.createElement("div",{className:(0,l.Z)("tabs-container",c.tabList)},r.createElement(p,(0,n.Z)({},e,t)),r.createElement(u,(0,n.Z)({},e,t)))}function m(e){const t=(0,s.Z)();return r.createElement(d,(0,n.Z)({key:String(t)},e))}},70989:(e,t,a)=>{a.d(t,{Y:()=>d});var n=a(67294),r=a(16550),l=a(91980),i=a(67392),o=a(50012);function s(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:n,default:r}}=e;return{value:t,label:a,attributes:n,default:r}}))}function c(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??s(a);return function(e){const t=(0,i.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function p(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function u(e){let{queryString:t=!1,groupId:a}=e;const i=(0,r.k6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,l._X)(o),(0,n.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(i.location.search);t.set(o,e),i.replace({...i.location,search:t.toString()})}),[o,i])]}function d(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,l=c(e),[i,s]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=a.find((e=>e.default))??a[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[d,m]=u({queryString:a,groupId:r}),[f,h]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,l]=(0,o.Nk)(a);return[r,(0,n.useCallback)((e=>{a&&l.set(e)}),[a,l])]}({groupId:r}),k=(()=>{const e=d??f;return p({value:e,tabValues:l})?e:null})();(0,n.useLayoutEffect)((()=>{k&&s(k)}),[k]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);s(e),m(e),h(e)}),[m,h,l]),tabValues:l}}},3388:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>f,frontMatter:()=>o,metadata:()=>c,toc:()=>u});var n=a(87462),r=(a(67294),a(3905)),l=a(65488),i=a(85162);const o={},s="Create the first application",c={unversionedId:"quickstart",id:"quickstart",title:"Create the first application",description:"Technical selection",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/quickstart.md",sourceDirName:".",slug:"/quickstart",permalink:"/en/docs/quickstart",draft:!1,editUrl:"https://github.com/midwayjs/midway/tree/main/site/docs/quickstart.md",tags:[],version:"current",frontMatter:{},sidebar:"common",previous:{title:"Upgrade to 3.x",permalink:"/en/docs/upgrade_v3"},next:{title:"controller",permalink:"/en/docs/controller"}},p={},u=[{value:"Technical selection",id:"technical-selection",level:2},{value:"Fast initialization",id:"fast-initialization",level:2},{value:"Development habits",id:"development-habits",level:2},{value:"Web framework selection",id:"web-framework-selection",level:2},{value:"Start the project",id:"start-the-project",level:2},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"windows eslint error",id:"windows-eslint-error",level:3}],d={toc:u},m="wrapper";function f(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"create-the-first-application"},"Create the first application"),(0,r.kt)("h2",{id:"technical-selection"},"Technical selection"),(0,r.kt)("p",null,"Midway has multiple sets of technical solutions to choose from. We will distinguish them by deployment:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Technical selection"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Pure Node.js project"),(0,r.kt)("td",{parentName:"tr",align:null},"Midway traditional project, pure Node.js research and development, modules represented by ",(0,r.kt)("inlineCode",{parentName:"td"},"@midwayjs/koa"),", supports back-end projects in the most complete way, and uses ",(0,r.kt)("strong",{parentName:"td"},"dependency injection + Class")," as the technology stack.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Serverless project"),(0,r.kt)("td",{parentName:"tr",align:null},"Midway is a technology stack developed separately for Serverless scenarios. Modules represented by ",(0,r.kt)("inlineCode",{parentName:"td"},"@midwayjs/faas")," are connected to different Serverless platforms in a lightweight way.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Integration project"),(0,r.kt)("td",{parentName:"tr",align:null},"Midway's innovative technology scheme adopts the integrated development method of front and back ends to save the time of front and back ends. For modules represented by ",(0,r.kt)("inlineCode",{parentName:"td"},"@midwayjs/hooks"),", ",(0,r.kt)("strong",{parentName:"td"},"functional")," is used as the main coding paradigm.")))),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"This chapter and subsequent documents will use the ",(0,r.kt)("strong",{parentName:"p"},"pure Node.js project")," as the basic example. If you need to use the Serverless project, please jump to the ",(0,r.kt)("a",{parentName:"p",href:"serverless/serverless_intro"},"Serverless"),". If you need to learn about the integration project, please visit ",(0,r.kt)("a",{parentName:"p",href:"hooks/intro"},"integration"),".")),(0,r.kt)("h2",{id:"fast-initialization"},"Fast initialization"),(0,r.kt)("p",null,"Use ",(0,r.kt)("inlineCode",{parentName:"p"},"npm init midway")," to view the complete list of scaffolds. After a project is selected, Midway automatically creates sample directories, codes, and installation dependencies."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm init midway@latest -y\n")),(0,r.kt)("p",null,"For a v3 project, select ",(0,r.kt)("inlineCode",{parentName:"p"},"koa-v3"),", pay attention to ",(0,r.kt)("a",{parentName:"p",href:"/docs/intro#environmental-preparation"},"Node.js environment requirements"),"."),(0,r.kt)("p",null,"The example will create a directory structure similar to the following, where the simplest Midway project example is as follows."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u279c  my_midway_app tree\n.\n\u251c\u2500\u2500 src                            ## midway project source code\n\u2502   \u2514\u2500\u2500 controller                 ## Web Controller Directory\n\u2502       \u2514\u2500\u2500 home.controller.ts\n\u251c\u2500\u2500 test\n\u251c\u2500\u2500 package.json\n\u2514\u2500\u2500 tsconfig.json\n")),(0,r.kt)("p",null,"The whole project includes some of the most basic files and directories."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"src")," is the source directory of the entire Midway project."),(0,r.kt)("li",{parentName:"ul"},"The test directory of the ",(0,r.kt)("inlineCode",{parentName:"li"},"test")," project. All the test files are available here."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"package the")," package management profile of the. json Node.js project Foundation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tsconfig.json")," Compile Configuration File TypeScript")),(0,r.kt)("p",null,"In addition to the entire directory, we have some other directories, such as the ",(0,r.kt)("inlineCode",{parentName:"p"},"controller")," directory."),(0,r.kt)("h2",{id:"development-habits"},"Development habits"),(0,r.kt)("p",null,"Midway has no special restrictions on directories, but we will follow some simple development habits and classify some commonly used files into some default folders."),(0,r.kt)("p",null,"The following ts source code folders are in the ",(0,r.kt)("inlineCode",{parentName:"p"},"src")," directory."),(0,r.kt)("p",null,"Commonly used are:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"controller")," Web Controller directory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"middleware")," middleware directory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"filter")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"aspect")," interceptor"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"service")," service logical directory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"entity")," or ",(0,r.kt)("inlineCode",{parentName:"li"},"model")," database entity directory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"config")),(0,r.kt)("li",{parentName:"ul"},"The directory where the ",(0,r.kt)("inlineCode",{parentName:"li"},"util")," tool class is stored."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"decorator")," custom decorator directory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"interface.ts")," definition file for ts business")),(0,r.kt)("p",null,"With the emergence of different scenarios, directory habits will continue to increase, and the specific directory content will be reflected in different component functions."),(0,r.kt)("h2",{id:"web-framework-selection"},"Web framework selection"),(0,r.kt)("p",null,"Midway was designed to be compatible with a variety of upper-level frameworks, such as common ",(0,r.kt)("inlineCode",{parentName:"p"},"Express"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Koa")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"EggJS"),"."),(0,r.kt)("p",null,"Starting with v3, we use Koa to demonstrate the basic example."),(0,r.kt)("p",null,"These upper-level frameworks are provided in Midway with component capabilities, and all of them can use the decorator capabilities provided by Midway, but Midway will not encapsulate specific capabilities, such as the plugin system of Egg.js, or the middleware capabilities of Express, If you are familiar with one of these frameworks, or want to use the capabilities of a particular framework, you can choose it as your workhorse web framework."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@midwayjs/koa"),(0,r.kt)("td",{parentName:"tr",align:null},"By default, Koa is a Express alternative framework, which supports asynchronous middleware and other capabilities by default, and is the second most common Node.js Web framework.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@midwayjs/web"),(0,r.kt)("td",{parentName:"tr",align:null},"Egg.js is a relatively commonly used Web framework in China, including some default plug-ins.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"@midwayjs/express"),(0,r.kt)("td",{parentName:"tr",align:null},"Express is a well-known node.js minimalist Web framework.  It's a well-tested, productive library with a lot of community resources.")))),(0,r.kt)("p",null,"If you want to replace the default Web framework, please refer to the corresponding ",(0,r.kt)("a",{parentName:"p",href:"extensions/egg"},"egg")," or ",(0,r.kt)("a",{parentName:"p",href:"extensions/express"},"express")," section."),(0,r.kt)("h2",{id:"start-the-project"},"Start the project"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ npm run dev\n$ open http://localhost:7001\n")),(0,r.kt)("p",null,"Midway will start the HTTP server, open the browser, access ",(0,r.kt)("inlineCode",{parentName:"p"},"http:// 127.0.0.1:7001"),", and the browser will print out the ",(0,r.kt)("inlineCode",{parentName:"p"},"Hello midwayjs!"),"  The information."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://img.alicdn.com/imgextra/i2/O1CN01KoUxO91jydMw41Vv4_!!6000000004617-2-tps-1268-768.png",alt:"image.png"})),(0,r.kt)("p",null,"If you need to modify the development startup port, you can modify it in the scripts paragraph of the ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),", such as 6001:"),(0,r.kt)(l.Z,{groupId:"cli",mdxType:"Tabs"},(0,r.kt)(i.Z,{value:"mwtsc",label:"Use mwtsc",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'"scripts": {\n  //...\n  "dev": "cross-env NODE_ENV=local mwtsc --watch --run @midwayjs/mock/app.js --port 6001",\n},\n'))),(0,r.kt)(i.Z,{value:"cli",label:"Use @midwayjs/cli",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-typescript"},'"scripts": {\n  //...\n  "dev": "cross-env NODE_ENV=local midway-bin dev --ts --port=6001",\n},\n')))),(0,r.kt)("h2",{id:"frequently-asked-questions"},"Frequently Asked Questions"),(0,r.kt)("h3",{id:"windows-eslint-error"},"windows eslint error"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Windows may encounter the problem of eslint error. Please pay attention to ",(0,r.kt)("a",{parentName:"p",href:"faq/git_problem#XCAgm"},"the problem of line wrapping under windows"),".")))}f.isMDXComponent=!0}}]);